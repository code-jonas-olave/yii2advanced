<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>
	
	<!-- Leer CÃ³digo QR desde Archivo -->
	<input type="file" id="qr-input-file" accept="image/*" capture style="/*display: none;*/">
	<div id="reader" style="/*display: none;*/"></div>

	<script src="html5-qrcode.min.js"></script>
	<script type="text/javascript">
		const html5QrCode = new Html5Qrcode('reader');
		// File based scanning
		const fileinput = document.getElementById('qr-input-file');
		fileinput.addEventListener('change', e => {
			if (e.target.files.length == 0) {
				// No file selected, ignore 
				return;
			}

			const imageFile = e.target.files[0];
			// Scan QR Code
			html5QrCode.scanFile(imageFile, true)
			.then(decodedText => {
				// success, use decodedText
				alert(decodedText);
			})
			.catch(err => {
				// failure, handle it.
				console.log(`Error scanning file. Reason: ${err}`)
			});
		});
	</script>

</body>
</html>
